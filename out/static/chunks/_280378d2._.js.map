{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/hooks/use-auth.ts"],"sourcesContent":["'use client';\nimport { useState, useEffect } from 'react';\nimport { auth, db } from '@/firebase/config';\nimport { onAuthStateChanged, User } from 'firebase/auth';\nimport { doc, getDoc } from 'firebase/firestore';\n\nexport const useAuth = () => {\n  const [user, setUser] = useState<User | null>(null);\n  const [userData, setUserData] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async (firebaseUser) => {\n      if (firebaseUser) {\n        setUser(firebaseUser);\n        // Intentar obtener datos extra del usuario (como su rol e InstitutoId)\n        const docRef = doc(db, \"users\", firebaseUser.uid);\n        const docSnap = await getDoc(docRef);\n        if (docSnap.exists()) {\n          setUserData(docSnap.data());\n        }\n      } else {\n        setUser(null);\n        setUserData(null);\n      }\n      setLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  return { user, userData, loading, isSuperAdmin: user?.email === 'vallecondo@gmail.com' };\n};\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAAA;AACA;AAAA;;AAJA;;;;;AAMO,MAAM,UAAU;;IACrB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAc;IAC9C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAM;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;6BAAC;YACR,MAAM,cAAc,IAAA,mNAAkB,EAAC,oIAAI;iDAAE,OAAO;oBAClD,IAAI,cAAc;wBAChB,QAAQ;wBACR,uEAAuE;wBACvE,MAAM,SAAS,IAAA,6KAAG,EAAC,kIAAE,EAAE,SAAS,aAAa,GAAG;wBAChD,MAAM,UAAU,MAAM,IAAA,gLAAM,EAAC;wBAC7B,IAAI,QAAQ,MAAM,IAAI;4BACpB,YAAY,QAAQ,IAAI;wBAC1B;oBACF,OAAO;wBACL,QAAQ;wBACR,YAAY;oBACd;oBACA,WAAW;gBACb;;YAEA;qCAAO,IAAM;;QACf;4BAAG,EAAE;IAEL,OAAO;QAAE;QAAM;QAAU;QAAS,cAAc,CAAA,iBAAA,2BAAA,KAAM,KAAK,MAAK;IAAuB;AACzF;GA1Ba","debugId":null}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/DatabaseSelector.tsx"],"sourcesContent":["'use client';\nimport React, { useState } from 'react';\n\nexport const DatabaseSelector = () => {\n  const [serverUrl, setServerUrl] = useState('http://localhost:5000');\n  const [showIpInput, setShowIpInput] = useState(false);\n\n  const saveConfig = (mode: 'cloud' | 'local' | 'hybrid', url?: string) => {\n    localStorage.setItem('edu_db_mode', mode);\n    if (url) localStorage.setItem('edu_local_url', url);\n    window.location.reload();\n  };\n\n  return (\n    <div style={{ \n      padding: '40px', textAlign: 'center', fontFamily: 'sans-serif', \n      backgroundColor: '#f0f2f5', minHeight: '100vh', display: 'flex',\n      flexDirection: 'column', justifyContent: 'center', alignItems: 'center'\n    }}>\n      <div style={{ backgroundColor: 'white', padding: '40px', borderRadius: '15px', boxShadow: '0 4px 12px rgba(0,0,0,0.1)' }}>\n        <h2 style={{ color: '#1a73e8' }}>Configuraci√≥n de Conexi√≥n EDUControlPro</h2>\n        <p style={{ color: '#5f6368' }}>Seleccione c√≥mo desea conectar su base de datos:</p>\n        <div style={{ display: 'flex', gap: '20px', justifyContent: 'center', marginTop: '30px' }}>\n          <button onClick={() => saveConfig('cloud')} style={{ padding: '20px', cursor: 'pointer', width: '180px', borderRadius: '10px', border: '1px solid #dadce0', backgroundColor: 'white' }}>\n            <strong>‚òÅÔ∏è Solo Nube</strong><br/><span style={{ fontSize: '12px' }}>Firebase Online</span>\n          </button>\n          <button onClick={() => setShowIpInput(true)} style={{ padding: '20px', cursor: 'pointer', width: '180px', borderRadius: '10px', border: '1px solid #dadce0', backgroundColor: 'white' }}>\n            <strong>üñ•Ô∏è Servidor Local</strong><br/><span style={{ fontSize: '12px' }}>Escuela (F√≠sico)</span>\n          </button>\n          <button onClick={() => { setShowIpInput(true); localStorage.setItem('edu_db_mode', 'hybrid'); }} style={{ padding: '20px', cursor: 'pointer', width: '180px', borderRadius: '10px', border: '1px solid #dadce0', backgroundColor: 'white' }}>\n            <strong>‚ö° Modo H√≠brido</strong><br/><span style={{ fontSize: '12px' }}>Nube + Local</span>\n          </button>\n        </div>\n        {showIpInput && (\n          <div style={{ marginTop: '40px', borderTop: '1px solid #eee', paddingTop: '20px' }}>\n            <p style={{ fontWeight: 'bold' }}>Direcci√≥n IP del Servidor:</p>\n            <input type=\"text\" value={serverUrl} onChange={(e) => setServerUrl(e.target.value)} placeholder=\"Ej: http://192.168.1.50:5000\" style={{ padding: '12px', width: '280px', borderRadius: '5px', border: '1px solid #ccc' }} />\n            <button onClick={() => saveConfig(localStorage.getItem('edu_db_mode') as any || 'local', serverUrl)} style={{ marginLeft: '10px', padding: '12px 25px', backgroundColor: '#1a73e8', color: 'white', border: 'none', borderRadius: '5px', cursor: 'pointer' }}>Conectar Ahora</button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AACA;;;AADA;;AAGO,MAAM,mBAAmB;;IAC9B,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAE/C,MAAM,aAAa,CAAC,MAAoC;QACtD,aAAa,OAAO,CAAC,eAAe;QACpC,IAAI,KAAK,aAAa,OAAO,CAAC,iBAAiB;QAC/C,OAAO,QAAQ,CAAC,MAAM;IACxB;IAEA,qBACE,6LAAC;QAAI,OAAO;YACV,SAAS;YAAQ,WAAW;YAAU,YAAY;YAClD,iBAAiB;YAAW,WAAW;YAAS,SAAS;YACzD,eAAe;YAAU,gBAAgB;YAAU,YAAY;QACjE;kBACE,cAAA,6LAAC;YAAI,OAAO;gBAAE,iBAAiB;gBAAS,SAAS;gBAAQ,cAAc;gBAAQ,WAAW;YAA6B;;8BACrH,6LAAC;oBAAG,OAAO;wBAAE,OAAO;oBAAU;8BAAG;;;;;;8BACjC,6LAAC;oBAAE,OAAO;wBAAE,OAAO;oBAAU;8BAAG;;;;;;8BAChC,6LAAC;oBAAI,OAAO;wBAAE,SAAS;wBAAQ,KAAK;wBAAQ,gBAAgB;wBAAU,WAAW;oBAAO;;sCACtF,6LAAC;4BAAO,SAAS,IAAM,WAAW;4BAAU,OAAO;gCAAE,SAAS;gCAAQ,QAAQ;gCAAW,OAAO;gCAAS,cAAc;gCAAQ,QAAQ;gCAAqB,iBAAiB;4BAAQ;;8CACnL,6LAAC;8CAAO;;;;;;8CAAqB,6LAAC;;;;;8CAAI,6LAAC;oCAAK,OAAO;wCAAE,UAAU;oCAAO;8CAAG;;;;;;;;;;;;sCAEvE,6LAAC;4BAAO,SAAS,IAAM,eAAe;4BAAO,OAAO;gCAAE,SAAS;gCAAQ,QAAQ;gCAAW,OAAO;gCAAS,cAAc;gCAAQ,QAAQ;gCAAqB,iBAAiB;4BAAQ;;8CACpL,6LAAC;8CAAO;;;;;;8CAA2B,6LAAC;;;;;8CAAI,6LAAC;oCAAK,OAAO;wCAAE,UAAU;oCAAO;8CAAG;;;;;;;;;;;;sCAE7E,6LAAC;4BAAO,SAAS;gCAAQ,eAAe;gCAAO,aAAa,OAAO,CAAC,eAAe;4BAAW;4BAAG,OAAO;gCAAE,SAAS;gCAAQ,QAAQ;gCAAW,OAAO;gCAAS,cAAc;gCAAQ,QAAQ;gCAAqB,iBAAiB;4BAAQ;;8CACxO,6LAAC;8CAAO;;;;;;8CAAuB,6LAAC;;;;;8CAAI,6LAAC;oCAAK,OAAO;wCAAE,UAAU;oCAAO;8CAAG;;;;;;;;;;;;;;;;;;gBAG1E,6BACC,6LAAC;oBAAI,OAAO;wBAAE,WAAW;wBAAQ,WAAW;wBAAkB,YAAY;oBAAO;;sCAC/E,6LAAC;4BAAE,OAAO;gCAAE,YAAY;4BAAO;sCAAG;;;;;;sCAClC,6LAAC;4BAAM,MAAK;4BAAO,OAAO;4BAAW,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;4BAAG,aAAY;4BAA+B,OAAO;gCAAE,SAAS;gCAAQ,OAAO;gCAAS,cAAc;gCAAO,QAAQ;4BAAiB;;;;;;sCACvN,6LAAC;4BAAO,SAAS,IAAM,WAAW,aAAa,OAAO,CAAC,kBAAyB,SAAS;4BAAY,OAAO;gCAAE,YAAY;gCAAQ,SAAS;gCAAa,iBAAiB;gCAAW,OAAO;gCAAS,QAAQ;gCAAQ,cAAc;gCAAO,QAAQ;4BAAU;sCAAG;;;;;;;;;;;;;;;;;;;;;;;AAM1Q;GAxCa;KAAA","debugId":null}},
    {"offset": {"line": 336, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/page.tsx"],"sourcesContent":["'use client';\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/hooks/use-auth';\nimport { DatabaseSelector } from '@/components/DatabaseSelector';\n\nexport default function HomePage() {\n  const { user, loading } = useAuth();\n  const router = useRouter();\n  \n  // Estado para saber si ya se eligi√≥ un modo (Local/Nube)\n  const [dbMode, setDbMode] = useState<string | null>(null);\n  const [checkingConfig, setCheckingConfig] = useState(true);\n\n  useEffect(() => {\n    // 1. Verificamos la configuraci√≥n en la memoria del PC\n    const savedMode = localStorage.getItem('edu_db_mode');\n    setDbMode(savedMode);\n    setCheckingConfig(false);\n\n    // 2. Solo si ya hay una configuraci√≥n, procedemos con el login/dashboard\n    if (savedMode && !loading) {\n      if (user) {\n        router.push('/dashboard');\n      } else {\n        router.push('/login');\n      }\n    }\n  }, [user, loading, router]);\n\n  // Si estamos verificando la configuraci√≥n inicial, mostramos carga\n  if (checkingConfig) {\n    return (\n      <div className=\"min-h-screen bg-[#080a0f] flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-t-2 border-orange-500\"></div>\n      </div>\n    );\n  }\n\n  // SI NO HAY CONFIGURACI√ìN: Mostramos la pantalla de \"Selecci√≥n de Base de Datos\"\n  if (!dbMode) {\n    return <DatabaseSelector />;\n  }\n\n  // Si ya hay configuraci√≥n pero est√° cargando el usuario, mostramos el spinner\n  return (\n    <div className=\"min-h-screen bg-[#080a0f] flex items-center justify-center\">\n      <div className=\"animate-spin rounded-full h-8 w-8 border-t-2 border-orange-500\"></div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;;;AAJA;;;;;AAMe,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,yIAAO;IACjC,MAAM,SAAS,IAAA,kJAAS;IAExB,yDAAyD;IACzD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAgB;IACpD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAC;IAErD,IAAA,0KAAS;8BAAC;YACR,uDAAuD;YACvD,MAAM,YAAY,aAAa,OAAO,CAAC;YACvC,UAAU;YACV,kBAAkB;YAElB,yEAAyE;YACzE,IAAI,aAAa,CAAC,SAAS;gBACzB,IAAI,MAAM;oBACR,OAAO,IAAI,CAAC;gBACd,OAAO;oBACL,OAAO,IAAI,CAAC;gBACd;YACF;QACF;6BAAG;QAAC;QAAM;QAAS;KAAO;IAE1B,mEAAmE;IACnE,IAAI,gBAAgB;QAClB,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,iFAAiF;IACjF,IAAI,CAAC,QAAQ;QACX,qBAAO,6LAAC,6JAAgB;;;;;IAC1B;IAEA,8EAA8E;IAC9E,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;;;;;;;;;;AAGrB;GA5CwB;;QACI,yIAAO;QAClB,kJAAS;;;KAFF","debugId":null}},
    {"offset": {"line": 435, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}