(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[0],{3468:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(12115),s=r(95155);function i(e,t=[]){let r=[],a=()=>{let t=r.map(e=>n.createContext(e));return function(r){let s=r?.[e]||t;return n.useMemo(()=>({[`__scope${e}`]:{...r,[e]:s}}),[r,s])}};return a.scopeName=e,[function(t,i){let a=n.createContext(i),o=r.length;r=[...r,i];let c=t=>{let{scope:r,children:i,...c}=t,l=r?.[e]?.[o]||a,d=n.useMemo(()=>c,Object.values(c));return(0,s.jsx)(l.Provider,{value:d,children:i})};return c.displayName=t+"Provider",[c,function(r,s){let c=s?.[e]?.[o]||a,l=n.useContext(c);if(l)return l;if(void 0!==i)return i;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=r.reduce((t,{useScope:r,scopeName:n})=>{let s=r(e)[`__scope${n}`];return{...t,...s}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}(a,...t)]}},3998:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var n=r(95155),s=r(12115),i=r(17129),a=r(83101),o=r(64269);let c=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:r,variant:s,size:a,asChild:l=!1,...d}=e,u=l?i.DX:"button";return(0,n.jsx)(u,{className:(0,o.cn)(c({variant:s,size:a,className:r})),ref:t,...d})});l.displayName="Button"},4129:(e,t,r)=>{"use strict";r.d(t,{N:()=>s});var n=r(12115),s=globalThis?.document?n.useLayoutEffect:()=>{}},4675:(e,t,r)=>{Promise.resolve().then(r.bind(r,66360))},13630:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(14294).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},15894:(e,t,r)=>{"use strict";r.d(t,{dj:()=>u});var n=r(12115);let s=0,i=new Map,a=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),l({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},o=[],c={toasts:[]};function l(e){c=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?a(r):e.toasts.forEach(e=>{a(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(c,e),o.forEach(e=>{e(c)})}function d(e){let{...t}=e,r=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),n=()=>l({type:"DISMISS_TOAST",toastId:r});return l({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||n()}}}),{id:r,dismiss:n,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function u(){let[e,t]=n.useState(c);return n.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>l({type:"DISMISS_TOAST",toastId:e})}}},20063:(e,t,r)=>{"use strict";var n=r(47260);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},23558:(e,t,r)=>{"use strict";r.d(t,{i:()=>i});var n=r(12115),s=r(70222);function i({prop:e,defaultProp:t,onChange:r=()=>{}}){let[i,a]=function({defaultProp:e,onChange:t}){let r=n.useState(e),[i]=r,a=n.useRef(i),o=(0,s.c)(t);return n.useEffect(()=>{a.current!==i&&(o(i),a.current=i)},[i,a,o]),r}({defaultProp:t,onChange:r}),o=void 0!==e,c=o?e:i,l=(0,s.c)(r);return[c,n.useCallback(t=>{if(o){let r="function"==typeof t?t(e):t;r!==e&&l(r)}else a(t)},[o,e,a,l])]}},27599:(e,t,r)=>{"use strict";r.d(t,{bL:()=>N,zi:()=>k});var n=r(12115),s=r(92556),i=r(94446),a=r(3468),o=r(23558),c=r(78108),l=r(84288),d=r(88142),u=r(95155),f="Switch",[p,h]=(0,a.A)(f),[m,b]=p(f),v=n.forwardRef((e,t)=>{let{__scopeSwitch:r,name:a,checked:c,defaultChecked:l,required:f,disabled:p,value:h="on",onCheckedChange:b,form:v,...g}=e,[x,N]=n.useState(null),k=(0,i.s)(t,e=>N(e)),w=n.useRef(!1),S=!x||v||!!x.closest("form"),[E=!1,A]=(0,o.i)({prop:c,defaultProp:l,onChange:b});return(0,u.jsxs)(m,{scope:r,checked:E,disabled:p,children:[(0,u.jsx)(d.sG.button,{type:"button",role:"switch","aria-checked":E,"aria-required":f,"data-state":j(E),"data-disabled":p?"":void 0,disabled:p,value:h,...g,ref:k,onClick:(0,s.m)(e.onClick,e=>{A(e=>!e),S&&(w.current=e.isPropagationStopped(),w.current||e.stopPropagation())})}),S&&(0,u.jsx)(y,{control:x,bubbles:!w.current,name:a,value:h,checked:E,required:f,disabled:p,form:v,style:{transform:"translateX(-100%)"}})]})});v.displayName=f;var g="SwitchThumb",x=n.forwardRef((e,t)=>{let{__scopeSwitch:r,...n}=e,s=b(g,r);return(0,u.jsx)(d.sG.span,{"data-state":j(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});x.displayName=g;var y=e=>{let{control:t,checked:r,bubbles:s=!0,...i}=e,a=n.useRef(null),o=(0,c.Z)(r),d=(0,l.X)(t);return n.useEffect(()=>{let e=a.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==r&&t){let n=new Event("click",{bubbles:s});t.call(e,r),e.dispatchEvent(n)}},[o,r,s]),(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function j(e){return e?"checked":"unchecked"}var N=v,k=x},44846:(e,t,r)=>{"use strict";r.d(t,{d:()=>o});var n=r(95155),s=r(12115),i=r(27599),a=r(64269);let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(i.bL,{className:(0,a.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",r),...s,ref:t,children:(0,n.jsx)(i.zi,{className:(0,a.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});o.displayName=i.bL.displayName},45300:(e,t,r)=>{"use strict";r.d(t,{db:()=>l,j2:()=>c});var n=r(52078),s=r(59253),i=r(19708),a=r(58134);r(13328),r(34491);let o=(0,n.Dk)().length>0?(0,n.Sx)():(0,n.Wp)({apiKey:"AIzaSyACK79dDRclgjFMEUokqpskC1ezyvmO11k",authDomain:"studio-7637044995-2342d.firebaseapp.com",projectId:"studio-7637044995-2342d",storageBucket:"studio-7637044995-2342d.firebasestorage.app",messagingSenderId:"7637044995",appId:"1:7637044995:web:2c6b412952864386927958"}),c=(0,s.xI)(o),l=(0,i.aU)(o);(0,a.c7)(o)},63862:(e,t,r)=>{"use strict";r.d(t,{As:()=>c,Ge:()=>u,Jd:()=>o,db:()=>n.db,j2:()=>n.j2,jt:()=>l,uN:()=>d});var n=r(45300),s=r(13328),i=r(34491),a=r(19708);r(59253);let o=()=>{let[e,t,r]=(0,s.hD)(n.j2);return{user:e,loading:t,error:r}},c=()=>{let[e,t,r]=(0,s.hD)(n.j2);return{user:e,loading:t,error:r,auth:n.j2}},l=()=>n.db,d=i.ZY,u=e=>{if("string"==typeof e&&(!e||e.includes("undefined")||e.includes("null")))return{value:[],loading:!1,error:Error("Ruta de colecci\xf3n inv\xe1lida")};let t="string"==typeof e?(0,a.rJ)(n.db,e):e,[r,s,o]=(0,i.Ar)(t);return{value:r||[],loading:s,error:o}}},64269:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var n=r(2821),s=r(75889);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,n.$)(t))}},66360:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var n=r(95155),s=r(12115),i=r(63862),a=r(19708),o=r(13630),c=r(3998),l=r(44846),d=r(15894),u=r(20063),f=r(64269),p=r(15239);function h(e){let{className:t}=e;return(0,n.jsxs)("div",{className:(0,f.cn)("flex flex-col items-center justify-center gap-2",t),children:[(0,n.jsxs)("div",{className:"relative flex items-center justify-center",children:[(0,n.jsx)("div",{className:"absolute h-24 w-24 rounded-full border-2 border-[#f97316] opacity-20 animate-pulse"}),(0,n.jsx)("div",{className:"relative h-20 w-20 rounded-full overflow-hidden border-2 border-slate-700 bg-[#0f172a] flex items-center justify-center shadow-2xl",children:(0,n.jsx)(p.default,{src:"/logo-efas.png",alt:"EDUControlPro Logo",width:64,height:64,className:"object-contain",priority:!0})})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h1",{className:"text-2xl font-black italic tracking-tighter text-white uppercase leading-none",children:"EDUControlPro"}),(0,n.jsx)("p",{className:"text-[#f97316] text-[9px] font-bold tracking-[0.1em] uppercase mt-1",children:"SISTEMA DE MONITOREO Y CONTROL PARENTAL"})]})]})}function m(){let[e,t]=(0,s.useState)([]),[r,f]=(0,s.useState)(!0),[p,m]=(0,s.useState)({name:"",email:"",id:""}),{toast:b}=(0,d.dj)();(0,u.useRouter)(),(0,s.useEffect)(()=>{let e=(0,a.P)((0,a.rJ)(i.db,"institutions")),r=(0,a.aQ)(e,e=>{t(e.docs.map(e=>({id:e.id,...e.data()}))),f(!1)});return()=>r()},[]);let v=async e=>{if(e.preventDefault(),p.name&&p.id)try{await (0,a.BN)((0,a.H9)(i.db,"institutions",p.id),{...p,createdAt:(0,a.O5)(),isActive:!0}),m({name:"",email:"",id:""}),b({title:"\xc9xito",description:"Instituci\xf3n creada correctamente"})}catch(e){b({title:"Error",description:"No se pudo crear la instituci\xf3n",variant:"destructive"})}},g=async(e,t)=>{try{await (0,a.mZ)((0,a.H9)(i.db,"institutions",e),{isActive:!t})}catch(e){b({title:"Error",description:"No se pudo actualizar el estado",variant:"destructive"})}};return(0,n.jsx)("div",{className:"min-h-screen bg-black text-white p-8",children:(0,n.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-12",children:[(0,n.jsx)(h,{className:"h-12"}),(0,n.jsx)(c.$,{onClick:()=>{i.j2.signOut().then(()=>{document.cookie="__session=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",localStorage.clear(),sessionStorage.clear(),window.location.replace("/login")})},variant:"destructive",size:"sm",className:"bg-red-900/20 hover:bg-red-900/40 text-red-500 border border-red-900/50 italic font-black rounded-lg px-6 transition-all",children:"SALIR"})]}),(0,n.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Panel de Super Admin"}),(0,n.jsxs)("form",{onSubmit:v,className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-12 bg-zinc-900/50 p-6 rounded-xl border border-zinc-800",children:[(0,n.jsx)("input",{placeholder:"Nombre Instituci\xf3n",className:"bg-black border border-zinc-700 p-2 rounded",value:p.name,onChange:e=>m({...p,name:e.target.value})}),(0,n.jsx)("input",{placeholder:"ID de Instituci\xf3n",className:"bg-black border border-zinc-700 p-2 rounded",value:p.id,onChange:e=>m({...p,id:e.target.value})}),(0,n.jsx)("input",{placeholder:"Email Contacto",className:"bg-black border border-zinc-700 p-2 rounded",value:p.email,onChange:e=>m({...p,email:e.target.value})}),(0,n.jsx)(c.$,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:"Crear Instituci\xf3n"})]}),(0,n.jsx)("div",{className:"grid gap-4",children:e.map(e=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 bg-zinc-900/30 border border-zinc-800 rounded-lg",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-bold text-lg",children:e.name}),(0,n.jsxs)("p",{className:"text-zinc-500 text-sm",children:[e.id," - ",e.email]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-6",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"text-xs text-zinc-500 uppercase",children:"Estado"}),(0,n.jsx)(l.d,{checked:e.isActive,onCheckedChange:()=>g(e.id,e.isActive)})]}),(0,n.jsx)(c.$,{variant:"ghost",size:"icon",onClick:()=>(0,a.kd)((0,a.H9)(i.db,"institutions",e.id)),className:"text-red-500",children:(0,n.jsx)(o.A,{className:"h-5 w-5"})})]})]},e.id))})]})})}},70222:(e,t,r)=>{"use strict";r.d(t,{c:()=>s});var n=r(12115);function s(e){let t=n.useRef(e);return n.useEffect(()=>{t.current=e}),n.useMemo(()=>(...e)=>t.current?.(...e),[])}},78108:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(12115);function s(e){let t=n.useRef({value:e,previous:e});return n.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},84288:(e,t,r)=>{"use strict";r.d(t,{X:()=>i});var n=r(12115),s=r(4129);function i(e){let[t,r]=n.useState(void 0);return(0,s.N)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let n,s;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;n=t.inlineSize,s=t.blockSize}else n=e.offsetWidth,s=e.offsetHeight;r({width:n,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}},88142:(e,t,r)=>{"use strict";r.d(t,{sG:()=>u,hO:()=>f});var n=r(12115),s=r(47650),i=r(94446),a=r(95155),o=n.forwardRef((e,t)=>{let{children:r,...s}=e,i=n.Children.toArray(r),o=i.find(d);if(o){let e=o.props.children,r=i.map(t=>t!==o?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,a.jsx)(c,{...s,ref:t,children:n.isValidElement(e)?n.cloneElement(e,void 0,r):null})}return(0,a.jsx)(c,{...s,ref:t,children:r})});o.displayName="Slot";var c=n.forwardRef((e,t)=>{let{children:r,...s}=e;if(n.isValidElement(r)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(r),a=function(e,t){let r={...t};for(let n in t){let s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...e)=>{i(...e),s(...e)}:s&&(r[n]=s):"style"===n?r[n]={...s,...i}:"className"===n&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==n.Fragment&&(a.ref=t?(0,i.t)(t,e):e),n.cloneElement(r,a)}return n.Children.count(r)>1?n.Children.only(null):null});c.displayName="SlotClone";var l=({children:e})=>(0,a.jsx)(a.Fragment,{children:e});function d(e){return n.isValidElement(e)&&e.type===l}var u=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=n.forwardRef((e,r)=>{let{asChild:n,...s}=e,i=n?o:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(i,{...s,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function f(e,t){e&&s.flushSync(()=>e.dispatchEvent(t))}},92556:(e,t,r)=>{"use strict";function n(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}r.d(t,{m:()=>n})},94446:(e,t,r)=>{"use strict";r.d(t,{s:()=>a,t:()=>i});var n=r(12115);function s(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function i(...e){return t=>{let r=!1,n=e.map(e=>{let n=s(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():s(e[t],null)}}}}function a(...e){return n.useCallback(i(...e),e)}}},e=>{e.O(0,[2992,3644,2363,4909,5412,8441,1255,7358],()=>e(e.s=4675)),_N_E=e.O()}]);