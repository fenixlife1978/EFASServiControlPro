(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6631],{14294:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(12115);let s=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:c="",children:d,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:t,...l,width:o,height:o,stroke:a,strokeWidth:n?24*Number(i)/Number(o):i,className:s("lucide",c),...m},[...u.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),i=(e,t)=>{let a=(0,r.forwardRef)((a,l)=>{let{className:i,...n}=a;return(0,r.createElement)(o,{ref:l,iconNode:t,className:s("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),i),...n})});return a.displayName="".concat(e),a}},19201:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},28158:(e,t,a)=>{Promise.resolve().then(a.bind(a,59986))},42997:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},45300:(e,t,a)=>{"use strict";a.d(t,{db:()=>c,j2:()=>n});var r=a(52078),s=a(19708),l=a(59253),o=a(58134);let i=(0,r.Dk)().length>0?(0,r.Sx)():(0,r.Wp)({apiKey:"AIzaSyACK79dDRclgjFMEUokqpskC1ezyvmO11k",authDomain:"studio-7637044995-2342d.firebaseapp.com",projectId:"studio-7637044995-2342d",storageBucket:"studio-7637044995-2342d.firebasestorage.app",messagingSenderId:"7637044995",appId:"1:7637044995:web:2c6b412952864386927958"}),n=(0,l.xI)(i),c=(0,s.aU)(i);(0,o.c7)(i)},55590:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var r=a(95155),s=a(12115),l=a(45300),o=a(19708),i=a(42997),n=a(92033),c=a(19201);function d(){let[e,t]=(0,s.useState)(!1),[a,d]=(0,s.useState)({nombre:"",email:"",role:"director",InstitutoId:"",aulaId:"",seccion:""}),[u,m]=(0,s.useState)([]),[p,h]=(0,s.useState)([]);(0,s.useEffect)(()=>{let e=(0,o.aQ)((0,o.P)((0,o.rJ)(l.db,"institutions")),e=>{m(e.docs.map(e=>({id:e.id,...e.data()})))});return()=>e()},[]),(0,s.useEffect)(()=>{if(!a.InstitutoId)return void h([]);let e=(0,o.aQ)((0,o.rJ)(l.db,"institutions",a.InstitutoId,"Aulas"),e=>{h(e.docs.map(e=>({id:e.id,...e.data()})))});return()=>e()},[a.InstitutoId]);let x=async e=>{if(e.preventDefault(),a.email&&a.InstitutoId){t(!0);try{let e=a.nombre.toLowerCase().trim().replace(/\s+/g,"_").normalize("NFD").replace(/[\u0300-\u036f]/g,""),t=(0,o.H9)(l.db,"usuarios",e);await (0,o.BN)(t,{id:e,nombre:a.nombre.trim(),email:a.email.toLowerCase().trim(),role:a.role,InstitutoId:a.InstitutoId,aulaId:a.aulaId,seccion:a.seccion,createdAt:new Date,status:"active"}),d({nombre:"",email:"",role:"director",InstitutoId:"",aulaId:"",seccion:""}),alert("âœ… USUARIO CREADO CON ID: "+e)}catch(e){console.error("Error:",e),alert("Error al crear usuario")}finally{t(!1)}}},g="w-full bg-[#1a1d26] border border-slate-800 p-4 rounded-xl focus:border-orange-500 outline-none font-bold text-slate-200 text-xs transition-all placeholder:text-slate-600",b="w-full bg-[#1a1d26] border border-slate-800 p-4 rounded-xl focus:border-orange-500 outline-none font-bold text-slate-200 text-xs transition-all appearance-none";return(0,r.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,r.jsx)(i.A,{className:"text-orange-500 w-5 h-5"}),(0,r.jsx)("h3",{className:"text-sm font-black uppercase text-white tracking-widest italic",children:"Nuevo Operador"})]}),(0,r.jsx)("input",{required:!0,className:g,value:a.nombre,onChange:e=>d({...a,nombre:e.target.value}),placeholder:"NOMBRE COMPLETO"}),(0,r.jsx)("input",{required:!0,type:"email",className:g,value:a.email,onChange:e=>d({...a,email:e.target.value}),placeholder:"CORREO ELECTR\xd3NICO"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("select",{className:b,value:a.role,onChange:e=>d({...a,role:e.target.value}),children:[(0,r.jsx)("option",{value:"director",style:{color:"white",backgroundColor:"#1a1d26"},children:"Director"}),(0,r.jsx)("option",{value:"profesor",style:{color:"white",backgroundColor:"#1a1d26"},children:"Profesor"})]}),(0,r.jsxs)("select",{required:!0,className:b,value:a.InstitutoId,onChange:e=>d({...a,InstitutoId:e.target.value,aulaId:"",seccion:""}),children:[(0,r.jsx)("option",{value:"",style:{color:"white",backgroundColor:"#1a1d26"},children:"Seleccionar Sede"}),u.map(e=>(0,r.jsx)("option",{value:e.id,style:{color:"white",backgroundColor:"#1a1d26"},children:e.nombre},e.id))]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("select",{className:b,value:a.seccion,onChange:e=>d({...a,seccion:e.target.value,aulaId:""}),children:[(0,r.jsx)("option",{value:"",style:{color:"white",backgroundColor:"#1a1d26"},children:"Secci\xf3n (Opcional)"}),[...new Set(p.map(e=>e.seccion))].filter(Boolean).map(e=>(0,r.jsx)("option",{value:e,style:{color:"white",backgroundColor:"#1a1d26"},children:e},e))]}),(0,r.jsxs)("select",{className:b,value:a.aulaId,onChange:e=>d({...a,aulaId:e.target.value}),children:[(0,r.jsx)("option",{value:"",style:{color:"white",backgroundColor:"#1a1d26"},children:"Aula (Opcional)"}),p.filter(e=>!a.seccion||e.seccion===a.seccion).map(e=>(0,r.jsx)("option",{value:e.id,style:{color:"white",backgroundColor:"#1a1d26"},children:e.aulaId||e.nombre||e.id},e.id))]})]}),(0,r.jsxs)("button",{disabled:e,type:"submit",className:"w-full bg-slate-900 hover:bg-orange-500 text-white font-black italic uppercase py-4 rounded-xl transition-all shadow-lg flex items-center justify-center gap-3 text-xs mt-4 border border-slate-800",children:[e?(0,r.jsx)(n.A,{className:"animate-spin w-4 h-4"}):(0,r.jsx)(c.A,{className:"w-4 h-4"}),"Vincular al Sistema"]})]})}},59986:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var r=a(95155);a(12115);var s=a(55590);function l(){return(0,r.jsxs)("div",{className:"p-6 md:p-10 max-w-7xl mx-auto space-y-10",children:[(0,r.jsxs)("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-4xl font-black italic uppercase text-slate-900 tracking-tighter",children:["Panel de ",(0,r.jsx)("span",{className:"text-orange-500",children:"Personal"})]}),(0,r.jsx)("p",{className:"text-slate-500 font-bold uppercase text-[10px] tracking-[0.3em] mt-2",children:"Configuraci\xf3n de Directores y Profesores por Instituto"})]}),(0,r.jsxs)("div",{className:"bg-white px-6 py-3 rounded-2xl border shadow-sm flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,r.jsx)("span",{className:"text-[10px] font-black uppercase italic text-slate-600",children:"Super Admin Mode"})]})]}),(0,r.jsx)("main",{children:(0,r.jsx)(s.A,{})})]})}},92033:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}},e=>{e.O(0,[2992,3644,3947,8441,1255,7358],()=>e(e.s=28158)),_N_E=e.O()}]);