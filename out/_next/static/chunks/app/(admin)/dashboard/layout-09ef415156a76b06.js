(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1247],{19201:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},20063:(e,t,a)=>{"use strict";var r=a(47260);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},34168:(e,t,a)=>{"use strict";a.d(t,{C:()=>c,w:()=>o});var r=a(95155),s=a(12115),l=a(45300),n=a(19708);let i=(0,s.createContext)({institutionId:null,setInstitutionId:()=>{},userRole:null}),c=e=>{let{children:t}=e,[a,c]=(0,s.useState)(null),[o,d]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let e=async()=>{let e=l.j2.currentUser;if(!e)return;if("vallecondo@gmail.com"===e.email)return void d("super-admin");let t=(0,n.P)((0,n.rJ)(l.db,"usuarios"),(0,n._M)("email","==",e.email)),a=await (0,n.GG)(t);if(!a.empty){let e=a.docs[0].data();d(e.role),c(e.InstitutoId)}},t=l.j2.onAuthStateChanged(()=>e());return()=>t()},[]),(0,r.jsx)(i.Provider,{value:{institutionId:a,setInstitutionId:c,userRole:o},children:t})},o=()=>(0,s.useContext)(i)},34228:(e,t,a)=>{Promise.resolve().then(a.bind(a,44401))},44401:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>w});var r=a(95155),s=a(45300),l=a(12115),n=a(19201);let i=(0,a(14294).A)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var c=a(56177),o=a(45444),d=a(53489),u=a(98428),h=a(52619),x=a.n(h),p=a(20063),m=a(63862),f=a(64269);function g(e){let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,f.cn)("animate-pulse rounded-md bg-muted",t),...a})}var b=a(34168);let v=()=>{let e=(0,p.usePathname)(),{installApp:t,isInstallable:a,isStandalone:h}=function(){let[e,t]=(0,l.useState)(null),[a,r]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{window.matchMedia("(display-mode: standalone)").matches&&r(!0);let e=e=>{e.preventDefault(),t(e)};window.addEventListener("beforeinstallprompt",e);let a=()=>{t(null)};return window.addEventListener("appinstalled",a),()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",a)}},[]),{installApp:async()=>{if(!e)return;e.prompt();let{outcome:a}=await e.userChoice;"accepted"===a&&t(null)},isInstallable:!!e&&!a,isStandalone:a}}();return(0,r.jsx)("nav",{className:"border-b border-white/5 bg-[#0a0c10]/80 backdrop-blur-md sticky top-0 z-[50]",children:(0,r.jsxs)("div",{className:"max-w-[1600px] mx-auto px-6 h-20 flex items-center justify-between",children:[(0,r.jsxs)(x(),{href:"/dashboard",className:"flex items-center gap-3 group",children:[(0,r.jsx)("div",{className:"bg-orange-600 p-2 rounded-xl shadow-[0_0_15px_rgba(234,88,12,0.3)] group-hover:scale-105 transition-transform",children:(0,r.jsx)(n.A,{className:"text-white w-6 h-6"})}),(0,r.jsxs)("div",{className:"hidden sm:block",children:[(0,r.jsxs)("h1",{className:"text-white font-black italic uppercase tracking-tighter text-lg leading-none",children:["EDU ",(0,r.jsx)("span",{className:"text-orange-500",children:"ControlPro"})]}),(0,r.jsx)("p",{className:"text-[8px] text-slate-500 font-bold uppercase tracking-[0.3em]",children:"Institutional Security"})]})]}),(0,r.jsxs)("div",{className:"hidden lg:flex items-center gap-8",children:[(0,r.jsxs)(x(),{href:"/dashboard",className:"text-[11px] font-black uppercase italic flex items-center gap-2 transition-colors ".concat("/dashboard"===e?"text-orange-500":"text-slate-400 hover:text-white"),children:[(0,r.jsx)(i,{className:"w-4 h-4"})," Dashboard"]}),(0,r.jsxs)(x(),{href:"/dashboard/classrooms",className:"text-[11px] font-black uppercase italic flex items-center gap-2 transition-colors ".concat(e.includes("classrooms")?"text-orange-500":"text-slate-400 hover:text-white"),children:[(0,r.jsx)(c.A,{className:"w-4 h-4"})," Aulas"]}),(0,r.jsxs)(x(),{href:"/institutions",className:"text-[11px] font-black uppercase italic flex items-center gap-2 transition-colors ".concat(e.includes("institutions")?"text-orange-500":"text-slate-400 hover:text-white"),children:[(0,r.jsx)(o.A,{className:"w-4 h-4"})," Instituciones"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-6",children:[a&&!h&&(0,r.jsxs)("button",{onClick:t,className:"hidden md:flex items-center gap-2 bg-orange-500/10 hover:bg-orange-500 text-orange-500 hover:text-white border border-orange-500/20 px-4 py-2 rounded-xl text-[10px] font-black uppercase transition-all",children:[(0,r.jsx)(d.A,{className:"w-3 h-3"})," Instalar App"]}),(0,r.jsx)("div",{className:"flex items-center gap-4 border-l border-white/10 pl-6",children:(0,r.jsx)("button",{onClick:()=>{s.j2.signOut().then(()=>{document.cookie="__session=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",localStorage.clear(),sessionStorage.clear(),window.location.replace("/login")})},className:"bg-white/5 hover:bg-red-500/10 p-3 rounded-xl border border-white/5 hover:border-red-500/20 transition-all group",title:"Cerrar Sesi\xf3n",children:(0,r.jsx)(u.A,{className:"w-4 h-4 text-slate-500 group-hover:text-red-500"})})})]})]})})};function y(){return(0,r.jsxs)("div",{className:"min-h-screen bg-[#0a0c10] flex flex-col",children:[(0,r.jsx)("div",{className:"h-20 border-b border-white/5 flex items-center px-6",children:(0,r.jsx)(g,{className:"h-8 w-48 bg-white/5"})}),(0,r.jsx)("div",{className:"flex-1 p-8",children:(0,r.jsx)(g,{className:"h-full w-full bg-white/5 rounded-3xl"})})]})}function j(e){let{children:t}=e,{user:a,loading:s}=(0,m.Jd)(),n=(0,p.useRouter)(),i=(0,p.usePathname)(),c=(0,p.useSearchParams)(),[o,d]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{d(!0)},[]),(0,l.useEffect)(()=>{if(o&&!s&&!a){let e=c.toString(),t="".concat(i).concat(e?"?".concat(e):"");n.push("/login?redirect=".concat(encodeURIComponent(t)))}},[a,s,i,c,n,o]),!o||s)?(0,r.jsx)(y,{}):a?(0,r.jsx)(b.C,{children:(0,r.jsxs)("div",{className:"min-h-screen bg-[#0a0c10] flex flex-col font-sans text-slate-200",children:[(0,r.jsx)(v,{}),(0,r.jsx)("main",{className:"flex-1 w-full max-w-[1600px] mx-auto p-6 md:p-8 overflow-y-auto",children:t}),(0,r.jsx)("footer",{className:"py-8 border-t border-white/5 text-center bg-[#0a0c10]",children:(0,r.jsx)("p",{className:"text-[9px] text-slate-600 font-black uppercase tracking-[0.5em]",children:"EDUControlPro Sistema de Control Parental Educativo \xa9 2026 â€¢ Security Infrastructure"})})]})}):null}function w(e){let{children:t}=e;return(0,r.jsx)(l.Suspense,{fallback:(0,r.jsx)(y,{}),children:(0,r.jsx)(j,{children:t})})}},45300:(e,t,a)=>{"use strict";a.d(t,{db:()=>o,j2:()=>c});var r=a(52078),s=a(19708),l=a(59253),n=a(58134);let i=(0,r.Dk)().length>0?(0,r.Sx)():(0,r.Wp)({apiKey:"AIzaSyACK79dDRclgjFMEUokqpskC1ezyvmO11k",authDomain:"studio-7637044995-2342d.firebaseapp.com",projectId:"studio-7637044995-2342d",storageBucket:"studio-7637044995-2342d.firebasestorage.app",messagingSenderId:"7637044995",appId:"1:7637044995:web:2c6b412952864386927958"}),c=(0,l.xI)(i),o=(0,s.aU)(i);(0,n.c7)(i)},45444:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},53489:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},56177:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]])},63862:(e,t,a)=>{"use strict";a.d(t,{As:()=>c,Ge:()=>u,Jd:()=>i,db:()=>r.db,j2:()=>r.j2,jt:()=>o,uN:()=>d});var r=a(45300),s=a(13328),l=a(34491),n=a(19708);a(59253);let i=()=>{let[e,t,a]=(0,s.hD)(r.j2);return{user:e,loading:t,error:a}},c=()=>{let[e,t,a]=(0,s.hD)(r.j2);return{user:e,loading:t,error:a,auth:r.j2}},o=()=>r.db,d=l.ZY,u=e=>{if("string"==typeof e&&(!e||e.includes("undefined")||e.includes("null")))return{value:[],loading:!1,error:Error("Ruta de colecci\xf3n inv\xe1lida")};let t="string"==typeof e?(0,n.rJ)(r.db,e):e,[a,s,i]=(0,l.Ar)(t);return{value:a||[],loading:s,error:i}}},64269:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var r=a(2821),s=a(75889);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},83011:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return s}});let r=a(12115);function s(e,t){let a=(0,r.useRef)(null),s=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let e=a.current;e&&(a.current=null,e());let t=s.current;t&&(s.current=null,t())}else e&&(a.current=l(e,r)),t&&(s.current=l(t,r))},[e,t])}function l(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let a=e(t);return"function"==typeof a?a:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},98428:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])}},e=>{e.O(0,[2992,3644,3947,4909,9555,2619,8441,1255,7358],()=>e(e.s=34228)),_N_E=e.O()}]);