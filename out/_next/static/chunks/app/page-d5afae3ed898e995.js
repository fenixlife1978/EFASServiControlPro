(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{20063:(e,t,r)=>{"use strict";var o=r(47260);r.o(o,"usePathname")&&r.d(t,{usePathname:function(){return o.usePathname}}),r.o(o,"useRouter")&&r.d(t,{useRouter:function(){return o.useRouter}}),r.o(o,"useSearchParams")&&r.d(t,{useSearchParams:function(){return o.useSearchParams}})},32751:(e,t,r)=>{Promise.resolve().then(r.bind(r,52061))},45300:(e,t,r)=>{"use strict";r.d(t,{db:()=>i,j2:()=>a});var o=r(52078),s=r(19708),d=r(59253),n=r(58134);let l=(0,o.Dk)().length>0?(0,o.Sx)():(0,o.Wp)({apiKey:"AIzaSyACK79dDRclgjFMEUokqpskC1ezyvmO11k",authDomain:"studio-7637044995-2342d.firebaseapp.com",projectId:"studio-7637044995-2342d",storageBucket:"studio-7637044995-2342d.firebasestorage.app",messagingSenderId:"7637044995",appId:"1:7637044995:web:2c6b412952864386927958"}),a=(0,d.xI)(l),i=(0,s.aU)(l);(0,n.c7)(l)},52061:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var o=r(95155),s=r(12115),d=r(20063),n=r(61289);let l=()=>{let[e,t]=(0,s.useState)("http://localhost:5000"),[r,d]=(0,s.useState)(!1),n=(e,t)=>{localStorage.setItem("edu_db_mode",e),t&&localStorage.setItem("edu_local_url",t),window.location.reload()};return(0,o.jsx)("div",{style:{padding:"40px",textAlign:"center",fontFamily:"sans-serif",backgroundColor:"#f0f2f5",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:(0,o.jsxs)("div",{style:{backgroundColor:"white",padding:"40px",borderRadius:"15px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[(0,o.jsx)("h2",{style:{color:"#1a73e8"},children:"Configuraci\xf3n de Conexi\xf3n EDUControlPro"}),(0,o.jsx)("p",{style:{color:"#5f6368"},children:"Seleccione c\xf3mo desea conectar su base de datos:"}),(0,o.jsxs)("div",{style:{display:"flex",gap:"20px",justifyContent:"center",marginTop:"30px"},children:[(0,o.jsxs)("button",{onClick:()=>n("cloud"),style:{padding:"20px",cursor:"pointer",width:"180px",borderRadius:"10px",border:"1px solid #dadce0",backgroundColor:"white"},children:[(0,o.jsx)("strong",{children:"☁️ Solo Nube"}),(0,o.jsx)("br",{}),(0,o.jsx)("span",{style:{fontSize:"12px"},children:"Firebase Online"})]}),(0,o.jsxs)("button",{onClick:()=>d(!0),style:{padding:"20px",cursor:"pointer",width:"180px",borderRadius:"10px",border:"1px solid #dadce0",backgroundColor:"white"},children:[(0,o.jsx)("strong",{children:"\uD83D\uDDA5️ Servidor Local"}),(0,o.jsx)("br",{}),(0,o.jsx)("span",{style:{fontSize:"12px"},children:"Escuela (F\xedsico)"})]}),(0,o.jsxs)("button",{onClick:()=>{d(!0),localStorage.setItem("edu_db_mode","hybrid")},style:{padding:"20px",cursor:"pointer",width:"180px",borderRadius:"10px",border:"1px solid #dadce0",backgroundColor:"white"},children:[(0,o.jsx)("strong",{children:"⚡ Modo H\xedbrido"}),(0,o.jsx)("br",{}),(0,o.jsx)("span",{style:{fontSize:"12px"},children:"Nube + Local"})]})]}),r&&(0,o.jsxs)("div",{style:{marginTop:"40px",borderTop:"1px solid #eee",paddingTop:"20px"},children:[(0,o.jsx)("p",{style:{fontWeight:"bold"},children:"Direcci\xf3n IP del Servidor:"}),(0,o.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Ej: http://192.168.1.50:5000",style:{padding:"12px",width:"280px",borderRadius:"5px",border:"1px solid #ccc"}}),(0,o.jsx)("button",{onClick:()=>n(localStorage.getItem("edu_db_mode")||"local",e),style:{marginLeft:"10px",padding:"12px 25px",backgroundColor:"#1a73e8",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Conectar Ahora"})]})]})})};function a(){let{user:e,loading:t}=(0,n.A)(),r=(0,d.useRouter)(),[a,i]=(0,s.useState)(null),[u,c]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{let o=localStorage.getItem("edu_db_mode");i(o),c(!1),o&&!t&&(e?r.push("/dashboard"):r.push("/login"))},[e,t,r]),u||a)?(0,o.jsx)("div",{className:"min-h-screen bg-[#080a0f] flex items-center justify-center",children:(0,o.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-orange-500"})}):(0,o.jsx)(l,{})}},61289:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var o=r(12115),s=r(45300),d=r(59253),n=r(19708);let l=()=>{let[e,t]=(0,o.useState)(null),[r,l]=(0,o.useState)(null),[a,i]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{let e=(0,d.hg)(s.j2,async e=>{if(e){t(e);let r=(0,n.H9)(s.db,"users",e.uid),o=await (0,n.x7)(r);o.exists()&&l(o.data())}else t(null),l(null);i(!1)});return()=>e()},[]),{user:e,userData:r,loading:a,isSuperAdmin:(null==e?void 0:e.email)==="vallecondo@gmail.com"}}}},e=>{e.O(0,[2992,3644,3947,8441,1255,7358],()=>e(e.s=32751)),_N_E=e.O()}]);