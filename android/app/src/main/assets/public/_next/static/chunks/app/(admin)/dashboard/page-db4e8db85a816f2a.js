(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[284],{3998:(e,t,s)=>{"use strict";s.d(t,{$:()=>o});var a=s(95155),r=s(12115),i=s(17129),l=s(83101),n=s(64269);let c=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,t)=>{let{className:s,variant:r,size:l,asChild:o=!1,...d}=e,x=o?i.DX:"button";return(0,a.jsx)(x,{className:(0,n.cn)(c({variant:r,size:l,className:s})),ref:t,...d})});o.displayName="Button"},15894:(e,t,s)=>{"use strict";s.d(t,{dj:()=>x});var a=s(12115);let r=0,i=new Map,l=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},n=[],c={toasts:[]};function o(e){c=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?l(s):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(c,e),n.forEach(e=>{e(c)})}function d(e){let{...t}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>o({type:"DISMISS_TOAST",toastId:s});return o({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function x(){let[e,t]=a.useState(c);return a.useEffect(()=>(n.push(t),()=>{let e=n.indexOf(t);e>-1&&n.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},35613:(e,t,s)=>{Promise.resolve().then(s.bind(s,75630))},44846:(e,t,s)=>{"use strict";s.d(t,{d:()=>n});var a=s(95155),r=s(12115),i=s(27599),l=s(64269);let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.bL,{className:(0,l.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...r,ref:t,children:(0,a.jsx)(i.zi,{className:(0,l.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});n.displayName=i.bL.displayName},45300:(e,t,s)=>{"use strict";s.d(t,{db:()=>o,j2:()=>c});var a=s(52078),r=s(59253),i=s(19708),l=s(58134);s(13328),s(34491);let n=(0,a.Dk)().length>0?(0,a.Sx)():(0,a.Wp)({apiKey:"AIzaSyACK79dDRclgjFMEUokqpskC1ezyvmO11k",authDomain:"studio-7637044995-2342d.firebaseapp.com",projectId:"studio-7637044995-2342d",storageBucket:"studio-7637044995-2342d.firebasestorage.app",messagingSenderId:"7637044995",appId:"1:7637044995:web:2c6b412952864386927958"}),c=(0,r.xI)(n),o=(0,i.aU)(n);(0,l.c7)(n)},63862:(e,t,s)=>{"use strict";s.d(t,{As:()=>d,BH:()=>h,Ge:()=>m,Jd:()=>o,db:()=>a.db,jt:()=>x,pt:()=>p,ri:()=>c,uN:()=>u,zb:()=>b});var a=s(45300),r=s(13328),i=s(34491),l=s(19708),n=s(59253);let c=async()=>{try{await (0,n.CI)(a.j2),localStorage.removeItem("selectedInstitutionId"),window.location.href="/login"}catch(e){console.error("Error al cerrar sesi\xf3n:",e)}},o=()=>{let[e,t,s]=(0,r.hD)(a.j2);return{user:e,loading:t,error:s}},d=()=>{let[e,t,s]=(0,r.hD)(a.j2);return{user:e,loading:t,error:s,auth:a.j2}},x=()=>a.db,u=i.ZY,m=e=>{if("string"==typeof e&&(!e||e.includes("undefined")||e.includes("null")))return{value:[],loading:!1,error:Error("Ruta de colecci\xf3n inv\xe1lida")};let t="string"==typeof e?(0,l.rJ)(a.db,e):e,[s,r,n]=(0,i.Ar)(t,{idField:"id"});return{value:s||[],loading:r,error:n}},h=async(e,t)=>{try{if(!e||"string"!=typeof e||e.includes("undefined")||e.includes("null"))return console.error("Path inv\xe1lido detectado:",e),{success:!1,error:"Ruta de base de datos no v\xe1lida"};let s=await (0,l.gS)((0,l.rJ)(a.db,e),{...t,createdAt:(0,l.O5)(),updatedAt:(0,l.O5)()});return{success:!0,id:s.id}}catch(e){return console.error("Error addDocument:",e),{success:!1,error:e.message}}},p=async(e,t,s)=>{try{if(!e||!t)throw Error("Colecci\xf3n o ID faltante");return await (0,l.mZ)((0,l.H9)(a.db,e,t),{...s,updatedAt:(0,l.O5)()}),{success:!0}}catch(e){return console.error("Error updateDocument:",e),{success:!1,error:e.message}}},b=async(e,t)=>{try{if(!e||!t)throw Error("Colecci\xf3n o ID faltante");return await (0,l.kd)((0,l.H9)(a.db,e,t)),{success:!0}}catch(e){return console.error("Error deleteDocument:",e),{success:!1,error:e.message}}}},64269:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var a=s(2821),r=s(75889);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},75630:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>P});var a=s(95155),r=s(12115),i=s(63862),l=s(19708),n=s(15039),c=s(55666),o=s(8861),d=s(62593),x=s(13630),u=s(3998);function m(e){let{institutionId:t}=e,{value:s,loading:r}=(0,i.Ge)("institutions/".concat(t,"/incidencias")),l=async e=>{await (0,i.pt)("institutions/".concat(t,"/incidencias"),e,{status:"visto",resolvedAt:new Date})},m=async e=>{confirm("\xbfEliminar registro de infracci\xf3n?")&&await (0,i.zb)("institutions/".concat(t,"/incidencias"),e)};return r?(0,a.jsx)("div",{className:"p-10 text-center animate-pulse text-orange-500 font-black italic",children:"ESCANEANDO RED..."}):(0,a.jsxs)("div",{className:"bg-[#0f1117] border border-white/5 rounded-3xl overflow-hidden shadow-2xl",children:[(0,a.jsx)("div",{className:"p-6 border-b border-white/5 flex justify-between items-center bg-slate-900/20",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-lg font-black italic text-white uppercase flex items-center gap-2",children:[(0,a.jsx)(n.A,{className:"text-orange-500 w-5 h-5"})," Registro de Infracciones"]}),(0,a.jsx)("p",{className:"text-[9px] text-slate-500 font-bold uppercase tracking-widest mt-1",children:"Monitoreo de seguridad EFAS"})]})}),(0,a.jsx)("div",{className:"divide-y divide-white/5 max-h-[400px] overflow-y-auto",children:0===s.length?(0,a.jsx)("div",{className:"p-16 text-center text-slate-600 font-bold uppercase text-[10px] tracking-widest",children:"Sistema Limpio - Sin Incidencias"}):s.map(e=>(0,a.jsxs)("div",{className:"p-5 flex items-center justify-between transition-all ".concat("visto"===e.status?"opacity-30":"bg-orange-500/5"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"bg-slate-800 p-3 rounded-2xl text-orange-500 shadow-inner",children:"URL"===e.tipo?(0,a.jsx)(c.A,{className:"w-5 h-5"}):(0,a.jsx)(o.A,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-white font-black text-sm uppercase",children:[e.estudianteNombre,(0,a.jsxs)("span",{className:"text-orange-500/50 font-black ml-2 text-[10px]",children:["[",e.grado||"S/G","]"]})]}),(0,a.jsx)("p",{className:"text-slate-400 text-xs font-medium italic mb-1",children:e.detalle}),(0,a.jsxs)("span",{className:"text-[9px] text-slate-600 flex items-center gap-1 font-bold",children:[(0,a.jsx)(d.A,{className:"w-3 h-3"})," RECIENTE"]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:["visto"!==e.status&&(0,a.jsx)(u.$,{onClick:()=>l(e.id),className:"bg-orange-600/10 text-orange-500 hover:bg-orange-600 hover:text-white text-[10px] font-black rounded-xl h-8 border border-orange-600/20",children:"VISTO"}),(0,a.jsx)(u.$,{onClick:()=>m(e.id),variant:"ghost",size:"icon",className:"text-slate-700 hover:text-red-500 h-8 w-8",children:(0,a.jsx)(x.A,{className:"w-4 h-4"})})]})]},e.id))})]})}var h=s(27500),p=s(94979),b=s(15894);function g(e){let{institutionId:t}=e,[s,l]=(0,r.useState)(""),[c,o]=(0,r.useState)(""),[d,x]=(0,r.useState)(!1),{toast:m}=(0,b.dj)(),g=async e=>{if(e.preventDefault(),!s||!c)return void m({title:"Atenci\xf3n",description:"Completa todos los campos",variant:"destructive"});x(!0);try{await (0,i.BH)("institutions/".concat(t,"/mensajes_directos"),{targetId:c.trim().toUpperCase(),mensaje:s,remitente:"DIRECCI\xd3N",prioridad:"ALTA",visto:!1,timestamp:new Date}),m({title:"ALERTA ENVIADA",description:"El mensaje aparecer\xe1 en el dispositivo."}),l(""),o("")}catch(e){m({variant:"destructive",title:"ERROR DE ENV\xcdO"})}finally{x(!1)}};return(0,a.jsxs)("div",{className:"bg-[#11141d] border border-white/5 rounded-3xl p-8 shadow-xl relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:(0,a.jsx)(n.A,{className:"w-24 h-24 text-orange-500"})}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6 relative",children:[(0,a.jsx)(h.A,{className:"text-orange-500 w-6 h-6"}),(0,a.jsx)("h2",{className:"text-xl font-black italic uppercase text-white",children:"Mensajer\xeda Directa"})]}),(0,a.jsxs)("form",{onSubmit:g,className:"space-y-4 relative",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-[10px] font-black text-slate-500 uppercase ml-2",children:"ID Estudiante o Dispositivo"}),(0,a.jsx)("input",{value:c,onChange:e=>o(e.target.value),className:"w-full bg-[#1c212c] rounded-2xl py-4 px-4 text-sm font-bold text-orange-500 outline-none focus:ring-2 focus:ring-orange-500 mt-1 border border-white/5",placeholder:"EJ: EST-2024"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-[10px] font-black text-slate-500 uppercase ml-2",children:"Mensaje de Control"}),(0,a.jsx)("textarea",{value:s,onChange:e=>l(e.target.value),className:"w-full bg-[#1c212c] rounded-2xl py-4 px-4 text-sm outline-none focus:ring-2 focus:ring-orange-500 text-white mt-1 h-28 resize-none border border-white/5",placeholder:"Escriba la advertencia..."})]})]}),(0,a.jsxs)(u.$,{disabled:d,className:"w-full bg-orange-600 hover:bg-orange-700 text-white font-black italic rounded-2xl py-7 uppercase shadow-lg shadow-orange-900/20 transition-all active:scale-95",children:[(0,a.jsx)(p.A,{className:"w-5 h-5 mr-2"})," ",d?"PROCESANDO...":"ENVIAR ALERTA INMEDIATA"]})]})]})}var f=s(61270),v=s(32265),j=s(26615);function N(e){let{institutionId:t}=e,[s,n]=(0,r.useState)({blacklisted_urls:[]}),[o,d]=(0,r.useState)(""),[x,m]=(0,r.useState)(!0),{toast:h}=(0,b.dj)();(0,r.useEffect)(()=>{let e=(0,l.H9)(i.db,"institutions/".concat(t,"/config"),"security_rules"),s=(0,l.aQ)(e,t=>{t.exists()?n(t.data()):(0,l.BN)(e,{blacklisted_urls:[]}),m(!1)});return()=>s()},[t]);let p=async e=>{if(e.preventDefault(),o)try{let e=(0,l.H9)(i.db,"institutions/".concat(t,"/config"),"security_rules");await (0,l.mZ)(e,{blacklisted_urls:(0,l.hq)(o.toLowerCase().trim())}),d(""),h({title:"Lista actualizada",description:"URL bloqueada correctamente."})}catch(e){h({variant:"destructive",title:"Error",description:"No se pudo a\xf1adir."})}},g=async e=>{try{let s=(0,l.H9)(i.db,"institutions/".concat(t,"/config"),"security_rules");await (0,l.mZ)(s,{blacklisted_urls:(0,l.C3)(e)})}catch(e){console.error(e)}};return x?(0,a.jsx)("div",{className:"p-10 text-center text-slate-500 font-black italic",children:"CARGANDO REGLAS..."}):(0,a.jsxs)("div",{className:"bg-[#11141d] border border-white/5 rounded-3xl p-8 shadow-xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(f.A,{className:"text-orange-500 w-6 h-6"}),(0,a.jsx)("h2",{className:"text-xl font-black italic uppercase text-white",children:"Filtro de Contenido"})]}),(0,a.jsx)("span",{className:"bg-orange-500/10 text-orange-500 px-3 py-1 rounded-full text-[10px] font-black border border-orange-500/20",children:"PROTECCI\xd3N ACTIVA"})]}),(0,a.jsxs)("form",{onSubmit:p,className:"flex gap-2 mb-8",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(c.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),(0,a.jsx)("input",{value:o,onChange:e=>d(e.target.value),className:"w-full bg-[#1c212c] rounded-2xl py-4 pl-12 pr-4 text-sm text-white outline-none focus:ring-2 focus:ring-orange-500 border border-white/5",placeholder:"Ej: facebook.com o palabras clave"})]}),(0,a.jsx)(u.$,{type:"submit",className:"bg-orange-600 hover:bg-orange-700 text-white font-black italic rounded-2xl px-6",children:(0,a.jsx)(v.A,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2",children:[(0,a.jsx)("p",{className:"text-[10px] font-black text-slate-500 uppercase ml-2 mb-4 tracking-widest",children:"Lista Negra Actual"}),0===s.blacklisted_urls.length?(0,a.jsx)("div",{className:"text-center py-10 bg-white/5 rounded-2xl border border-dashed border-white/10",children:(0,a.jsx)("p",{className:"text-slate-600 text-xs font-bold uppercase italic",children:"No hay restricciones activas"})}):s.blacklisted_urls.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-[#1c212c] p-4 rounded-2xl border border-white/5 group hover:border-orange-500/30 transition-all",children:[(0,a.jsx)("span",{className:"text-sm font-mono text-slate-300 font-bold",children:e}),(0,a.jsx)("button",{onClick:()=>g(e),className:"text-slate-600 hover:text-red-500 p-1 transition-colors",children:(0,a.jsx)(j.A,{className:"w-4 h-4"})})]},t))]}),(0,a.jsx)("div",{className:"mt-8 pt-6 border-t border-white/5",children:(0,a.jsx)("p",{className:"text-[9px] text-slate-600 font-bold leading-tight uppercase italic",children:"* Cualquier intento de acceso a estos dominios activar\xe1 la pantalla de bloqueo y enviar\xe1 una incidencia al panel principal de EFAS ServiControlPro."})})]})}var w=s(19201);function y(e){let{institutionId:t}=e,[s,n]=(0,r.useState)([]),[o,d]=(0,r.useState)(""),{toast:x}=(0,b.dj)();(0,r.useEffect)(()=>{let e=(0,l.H9)(i.db,"institutions/".concat(t,"/config"),"whitelist_rules"),s=(0,l.aQ)(e,t=>{t.exists()?n(t.data().allowed_urls||[]):(0,l.BN)(e,{allowed_urls:[]})});return()=>s()},[t]);let m=async e=>{if(e.preventDefault(),o)try{let e=(0,l.H9)(i.db,"institutions/".concat(t,"/config"),"whitelist_rules");await (0,l.mZ)(e,{allowed_urls:(0,l.hq)(o.toLowerCase().trim())}),d(""),x({title:"Lista Blanca actualizada",description:"Sitio permitido a\xf1adido."})}catch(e){x({variant:"destructive",title:"Error"})}},h=async e=>{let s=(0,l.H9)(i.db,"institutions/".concat(t,"/config"),"whitelist_rules");await (0,l.mZ)(s,{allowed_urls:(0,l.C3)(e)})};return(0,a.jsxs)("div",{className:"bg-[#11141d] border border-white/5 rounded-3xl p-8 shadow-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,a.jsx)(w.A,{className:"text-emerald-500 w-6 h-6"}),(0,a.jsx)("h2",{className:"text-xl font-black italic uppercase text-white",children:"Lista Blanca (Sitios Permitidos)"})]}),(0,a.jsxs)("form",{onSubmit:m,className:"flex gap-2 mb-6",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(c.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),(0,a.jsx)("input",{value:o,onChange:e=>d(e.target.value),className:"w-full bg-[#1c212c] rounded-2xl py-4 pl-12 pr-4 text-sm text-white border border-white/5",placeholder:"Ej: wikipedia.org"})]}),(0,a.jsx)(u.$,{type:"submit",className:"bg-emerald-600 hover:bg-emerald-700 rounded-2xl px-6",children:(0,a.jsx)(v.A,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"space-y-2 max-h-[250px] overflow-y-auto pr-2",children:s.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-emerald-500/5 p-3 rounded-xl border border-emerald-500/10",children:[(0,a.jsx)("span",{className:"text-xs font-bold text-emerald-200",children:e}),(0,a.jsx)("button",{onClick:()=>h(e),className:"text-slate-500 hover:text-red-500",children:(0,a.jsx)(j.A,{className:"w-4 h-4"})})]},t))})]})}var A=s(92033),k=s(91480),E=s(60334),S=s(86594),C=s(44846);function I(e){let{institutionId:t}=e,[s,c]=(0,r.useState)({filterActive:!0,strictMode:!1,maintenanceMode:!1}),[o,d]=(0,r.useState)(!0),{toast:x}=(0,b.dj)();(0,r.useEffect)(()=>{let e=(0,l.H9)(i.db,"institutions/".concat(t,"/config"),"global_settings"),s=(0,l.aQ)(e,t=>{t.exists()?c(t.data()):(0,l.BN)(e,{filterActive:!0,strictMode:!1,maintenanceMode:!1}),d(!1)});return()=>s()},[t]);let u=async(e,s)=>{try{let a=(0,l.H9)(i.db,"institutions/".concat(t,"/config"),"global_settings");await (0,l.mZ)(a,{[e]:s}),x({title:"Configuraci\xf3n Actualizada",description:"".concat(e," ahora est\xe1 ").concat(s?"ACTIVADO":"DESACTIVADO")})}catch(e){x({variant:"destructive",title:"Error al actualizar"})}};return o?(0,a.jsx)(A.A,{className:"w-6 h-6 animate-spin text-orange-500 mx-auto"}):(0,a.jsxs)("div",{className:"bg-[#11141d] border border-white/5 rounded-3xl p-8 shadow-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,a.jsx)(k.A,{className:"text-orange-500 w-6 h-6"}),(0,a.jsx)("h2",{className:"text-xl font-black italic uppercase text-white",children:"Controles Maestros"})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-2xl border border-white/5",children:[(0,a.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,a.jsx)("div",{className:"p-3 rounded-xl ".concat(s.filterActive?"bg-emerald-500/20 text-emerald-500":"bg-red-500/20 text-red-500"),children:(0,a.jsx)(E.A,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-black text-white uppercase italic",children:"Filtro de Contenido"}),(0,a.jsx)("p",{className:"text-[10px] text-slate-500 font-bold uppercase",children:"Activa/Desactiva toda la protecci\xf3n"})]})]}),(0,a.jsx)(C.d,{checked:s.filterActive,onCheckedChange:e=>u("filterActive",e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-2xl border border-white/5",children:[(0,a.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,a.jsx)("div",{className:"p-3 rounded-xl ".concat(s.strictMode?"bg-orange-500/20 text-orange-500":"bg-slate-800 text-slate-500"),children:(0,a.jsx)(n.A,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-black text-white uppercase italic",children:"Modo Estricto (Whitelisting)"}),(0,a.jsx)("p",{className:"text-[10px] text-slate-500 font-bold uppercase",children:"Solo permite sitios autorizados"})]})]}),(0,a.jsx)(C.d,{checked:s.strictMode,onCheckedChange:e=>u("strictMode",e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-2xl border border-white/5",children:[(0,a.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,a.jsx)("div",{className:"p-3 rounded-xl ".concat(s.maintenanceMode?"bg-red-600/20 text-red-600 animate-pulse":"bg-slate-800 text-slate-500"),children:(0,a.jsx)(S.A,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-black text-white uppercase italic",children:"Bloqueo de Navegaci\xf3n"}),(0,a.jsx)("p",{className:"text-[10px] text-slate-500 font-bold uppercase",children:"Cierra el acceso a internet totalmente"})]})]}),(0,a.jsx)(C.d,{checked:s.maintenanceMode,onCheckedChange:e=>u("maintenanceMode",e)})]})]})]})}var D=s(56177),_=s(16802),T=s(6943),O=s(63263),R=s(91851),M=s(56639),L=s(52619),z=s.n(L),H=s(15239);function P(){let[e,t]=(0,r.useState)(null),[s,n]=(0,r.useState)(null);return((0,r.useEffect)(()=>{let e=localStorage.getItem("selectedInstitutionId");if(t(e),e){let t=(0,l.aQ)((0,l.H9)(i.db,"institutions",e),e=>{if(e.exists()){let t=e.data();n({nombre:t.nombre,logoUrl:t.logoUrl})}});return()=>t()}},[]),e)?(0,a.jsxs)("div",{className:"min-h-screen bg-[#0a0c10] text-white py-4 font-sans",children:[(0,a.jsxs)("main",{className:"max-w-[1550px] mx-auto space-y-8",children:[(0,a.jsxs)("header",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center border-b border-white/5 pb-10 gap-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-8",children:[(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-tr from-orange-600 to-blue-600 rounded-[2.2rem] blur opacity-20 group-hover:opacity-40 transition duration-500"}),(0,a.jsx)("div",{className:"relative w-24 h-24 bg-[#11141d] rounded-[2rem] border border-white/10 flex items-center justify-center overflow-hidden shadow-2xl",children:(null==s?void 0:s.logoUrl)?(0,a.jsx)(H.default,{src:s.logoUrl,alt:"Logo Institucional",fill:!0,className:"object-contain p-3"}):(0,a.jsx)(D.A,{className:"w-10 h-10 text-slate-700"})})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-[1px] w-8 bg-orange-500/50"}),(0,a.jsx)("span",{className:"text-[10px] font-black text-orange-500 uppercase tracking-[0.4em] italic",children:"Centro de Mando Estructural"})]}),(0,a.jsx)("h1",{className:"text-5xl lg:text-6xl font-black italic uppercase tracking-tighter leading-none text-white py-1",children:(null==s?void 0:s.nombre)||"CARGANDO..."}),(0,a.jsxs)("div",{className:"flex items-center gap-4 pt-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 bg-white/5 px-3 py-1 rounded-lg border border-white/5",children:[(0,a.jsx)(_.A,{className:"w-3 h-3 text-slate-500"}),(0,a.jsxs)("span",{className:"text-[11px] font-mono font-bold text-slate-400 uppercase tracking-tighter",children:["ID: ",e]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-emerald-500",children:[(0,a.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),(0,a.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"En L\xednea"})]})]})]})]}),(0,a.jsx)("div",{className:"flex gap-4",children:(0,a.jsx)(z(),{href:"/dashboard/classrooms",children:(0,a.jsxs)("button",{className:"bg-white/5 hover:bg-white/10 border border-white/10 px-8 py-5 rounded-2xl flex items-center gap-3 transition-all group active:scale-95 shadow-xl border-b-2 border-b-orange-600/50",children:[(0,a.jsx)(T.A,{className:"w-5 h-5 text-orange-500 group-hover:rotate-12 transition-transform"}),(0,a.jsx)("span",{className:"text-[12px] font-black uppercase italic tracking-tight text-slate-200",children:"Panel de Aulas"}),(0,a.jsx)(O.A,{className:"w-4 h-4 text-slate-600 group-hover:translate-x-1 transition-transform"})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-[#11141d] border border-white/5 rounded-2xl p-6 flex items-center gap-4 hover:border-orange-500/20 transition-all cursor-default",children:[(0,a.jsx)("div",{className:"bg-emerald-500/10 p-4 rounded-2xl",children:(0,a.jsx)(R.A,{className:"w-6 h-6 text-emerald-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Frecuencia de Red"}),(0,a.jsx)("p",{className:"text-base font-bold text-white uppercase italic tracking-tighter",children:"Estable / 1ms"})]})]}),(0,a.jsxs)("div",{className:"bg-[#11141d] border border-white/5 rounded-2xl p-6 flex items-center gap-4 lg:col-span-3",children:[(0,a.jsx)("div",{className:"bg-orange-500/10 p-4 rounded-2xl",children:(0,a.jsx)(w.A,{className:"w-6 h-6 text-orange-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Resumen de Seguridad"}),(0,a.jsxs)("p",{className:"text-xs font-bold text-slate-400 uppercase italic leading-tight",children:["El sistema ",(0,a.jsx)("span",{className:"text-white font-black",children:"EFAS ServControlPro"})," est\xe1 operando bajo la licencia de ",(0,a.jsx)("span",{className:"text-orange-500",children:(null==s?void 0:s.nombre)||e}),"."]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-8 items-start",children:[(0,a.jsx)("div",{className:"xl:col-span-8",children:(0,a.jsx)(m,{institutionId:e})}),(0,a.jsx)("div",{className:"xl:col-span-4",children:(0,a.jsx)(g,{institutionId:e})})]}),(0,a.jsxs)("div",{className:"space-y-6 pt-10 border-t border-white/5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 px-2",children:[(0,a.jsx)(M.A,{className:"text-slate-600 w-5 h-5"}),(0,a.jsx)("h3",{className:"text-sm font-black uppercase italic text-slate-500 tracking-[0.2em]",children:"Protocolos de Seguridad y Filtrado"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 pb-10",children:[(0,a.jsx)(N,{institutionId:e}),(0,a.jsx)(y,{institutionId:e}),(0,a.jsx)(I,{institutionId:e})]})]})]}),(0,a.jsx)("footer",{className:"mt-10 py-10 border-t border-white/5 text-center",children:(0,a.jsxs)("p",{className:"text-[10px] text-slate-600 font-black uppercase tracking-[0.6em]",children:["EFAS ServControlPro • ",(null==s?void 0:s.nombre)||"Sistema de Control"," • 2026"]})})]}):(0,a.jsx)("div",{className:"min-h-screen bg-[#0a0c10] flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("p",{className:"text-orange-500 font-black italic animate-pulse uppercase tracking-widest text-sm",children:"Sin instituci\xf3n seleccionada"}),(0,a.jsx)(z(),{href:"/institutions",className:"text-slate-500 text-[10px] underline font-black uppercase tracking-[0.2em] hover:text-white transition-colors",children:"Volver a Selecci\xf3n de Instituci\xf3n"})]})})}}},e=>{e.O(0,[992,644,909,982,15,239,802,441,255,358],()=>e(e.s=35613)),_N_E=e.O()}]);